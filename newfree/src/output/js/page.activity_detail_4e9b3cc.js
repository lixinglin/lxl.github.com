seajs.use(["$","handlebars","querystring","handlebars-helper-is/0.0.4/index"],function(n,a,i,l){a.registerHelper("is",l),a.registerHelper("add",function(n,a){return Number(n)+Number(a)}),n.getJSON("/ajax/activity_detail.php",{id:i.parse(location.search).id},function(l){var s=a.template({1:function(){return'                        <img alt="未开始" class="status-photo" src="/img/prestart.png">\n'},3:function(){return'                        <img alt="正在进行" class="status-photo" src="/img/starting.png">\n'},5:function(){return'                        <img alt="已结束" class="status-photo" src="/img/started.png">\n'},7:function(n,a,i,l){var s,e=a.helperMissing,t="function",d=this.escapeExpression;return'                        <li>\n                            <img src="'+d((s=null!=(s=a.avatar||(null!=n?n.avatar:n))?s:e,typeof s===t?s.call(n,{name:"avatar",hash:{},data:l}):s))+'" alt="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:e,typeof s===t?s.call(n,{name:"name",hash:{},data:l}):s))+'">\n                        </li>\n'},9:function(n,a,i,l){var s,e=a.helperMissing,t="function",d=this.escapeExpression;return'    <div class="item">\n        <span class="sort">'+d((s=null!=(s=a.xh||(null!=n?n.xh:n))?s:e,typeof s===t?s.call(n,{name:"xh",hash:{},data:l}):s))+'</span>\n        <div class="ui-grid">\n            <div class="ui-grid-row">\n                <div class="ui-grid-3">\n                    <img class="avatar" src="'+d((s=null!=(s=a.avatar||(null!=n?n.avatar:n))?s:e,typeof s===t?s.call(n,{name:"avatar",hash:{},data:l}):s))+'" alt="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:e,typeof s===t?s.call(n,{name:"name",hash:{},data:l}):s))+'">\n                </div>\n                <div class="ui-grid-9">\n                    <div class="title">\n                            <div class="ui-grid-row">\n                            <div class="ui-grid-4 label">\n                                <span class="name">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:e,typeof s===t?s.call(n,{name:"name",hash:{},data:l}):s))+'</span>\n                            </div>\n                        </div>\n\n                         <div class="ui-grid-row">\n                            <div class="ui-grid-4 label">\n                                <span>公司：</span>\n                            </div>\n                            <div class="ui-grid-8">\n                                '+d((s=null!=(s=a.company||(null!=n?n.company:n))?s:e,typeof s===t?s.call(n,{name:"company",hash:{},data:l}):s))+'\n                            </div>\n                        </div>\n\n                        <div class="ui-grid-row">\n                          <div class="ui-grid-4 label">\n                                职位：\n                            </div>\n                            <div class="ui-grid-8">\n                                '+d((s=null!=(s=a.job||(null!=n?n.job:n))?s:e,typeof s===t?s.call(n,{name:"job",hash:{},data:l}):s))+'\n                            </div>\n                        </div>\n                        <div class="ui-grid-row">\n                            <div class="ui-grid-4 label">\n                                自我介绍：\n                            </div>\n                            <div class="ui-grid-8">\n                                '+d((s=null!=(s=a.introduction||(null!=n?n.introduction:n))?s:e,typeof s===t?s.call(n,{name:"introduction",hash:{},data:l}):s))+"\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n"},11:function(){return'<!---->\n    <div class="b-nodata">暂无参与人员</div>\n'},13:function(n,a,i,l){var s,e;return"        "+(null!=(e=null!=(e=a.summary||(null!=n?n.summary:n))?e:a.helperMissing,s="function"==typeof e?e.call(n,{name:"summary",hash:{},data:l}):e)?s:"")+"\n"},15:function(){return'    <div class="nodata">还没有相关信息，请期待!</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(n,a,i,l){var s,e,t,d=a.helperMissing,o="function",c=this.escapeExpression,r='<img src="'+c((e=null!=(e=a.main_photo||(null!=n?n.main_photo:n))?e:d,typeof e===o?e.call(n,{name:"main_photo",hash:{},data:l}):e))+'" alt="" class="main-photo">\n<div class="c-tab" id="tab">\n    <div class="ui-grid">\n        <div class="ui-grid-row">\n            <div class="ui-grid-4">\n                <span class="tab tab-active">\n                    通知\n                </span>\n            </div>\n\n            <div class="ui-grid-4">\n                <span class="tab">\n                    名单\n                </span>\n            </div>\n            <!--\n            <div class="ui-grid-4">\n                <span class="tab">\n                    图片\n                </span>\n            </div>\n            -->\n\n            <div class="ui-grid-4">\n                <span class="tab">\n                    总结\n                </span>\n            </div>\n\n        </div>\n    </div>\n</div>\n<div class="detail s-tab-box">\n    <h1 class="title">\n        '+c((e=null!=(e=a.title||(null!=n?n.title:n))?e:d,typeof e===o?e.call(n,{name:"title",hash:{},data:l}):e))+'\n    </h1>\n    <div class="ui-grid">\n        <div class="ui-grid-row">\n        <ul class="info">\n                    <!--<li>\n                        <span class="iconfont">&#xe611;</span>\n                '+c((e=null!=(e=a.join||(null!=n?n.join:n))?e:d,typeof e===o?e.call(n,{name:"join",hash:{},data:l}):e))+'人已报名\n                    </li>\n                    -->\n                    <li>\n                        <span class="iconfont">&#xe603;</span>'+c((e=null!=(e=a.start_date||(null!=n?n.start_date:n))?e:d,typeof e===o?e.call(n,{name:"start_date",hash:{},data:l}):e))+'\n                    </li>\n                    <li>\n                        <span class="iconfont">&#xe604;</span>'+c((e=null!=(e=a.location||(null!=n?n.location:n))?e:d,typeof e===o?e.call(n,{name:"location",hash:{},data:l}):e))+'\n                    </li>\n                    <li>\n                        <span class="iconfont">&#xe621;</span>\n                        ￥'+c((e=null!=(e=a.money||(null!=n?n.money:n))?e:d,typeof e===o?e.call(n,{name:"money",hash:{},data:l}):e))+'/人\n                    </li>\n                    <li class="status-wrap">\n'+(null!=(s=(a.is||n&&n.is||d).call(n,null!=n?n.type:n,0,{name:"is",hash:{},fn:this.program(1,l,0),inverse:this.noop,data:l}))?s:"")+(null!=(s=(a.is||n&&n.is||d).call(n,null!=n?n.type:n,1,{name:"is",hash:{},fn:this.program(3,l,0),inverse:this.noop,data:l}))?s:"")+(null!=(s=(a.is||n&&n.is||d).call(n,null!=n?n.type:n,2,{name:"is",hash:{},fn:this.program(5,l,0),inverse:this.noop,data:l}))?s:"")+'\n                <li>\n               <div id="p-code" class="p-border iconfont" >&#xe605;报名二维码</div>\n                        <div id="p-gray" class="p-gray"></div>\n                </li>\n                </ul>\n                <div class="people">\n                <div class="ui-grid sub-title">\n                    <div class="ui-grid-row">\n                      <!--  <div class="ui-grid-6">\n                            已报名\n                        </div>\n                        <div class="ui-grid-6">\n                            <div class="more" id="more-people">更多 >></div>\n                        </div>-->\n                    </div>\n                </div>\n\n                <!--<div class="list">\n                    <ul class="fn-clear" id="people-list">\n'+(null!=(s=a.each.call(n,null!=n?n.people:n,{name:"each",hash:{},fn:this.program(7,l,0),inverse:this.noop,data:l}))?s:"")+'                    </ul>\n                </div>-->\n            </div>\n                <div class="content">\n                    <div class="sub-title">\n                        活动介绍\n                    </div>\n                    <div class="view s-html">\n                        '+(null!=(e=null!=(e=a.content||(null!=n?n.content:n))?e:d,s=typeof e===o?e.call(n,{name:"content",hash:{},data:l}):e)?s:"")+'\n                    </div>\n                </div>\n\n                <div id="p-sign" class="p-sign" >\n                         <div class="p-bm">\n                                 <span class="p-signup">您已报名成功</span><br>\n                                  <span class="p-signid" >报名序号为 '+c((e=null!=(e=a.bmxh||(null!=n?n.bmxh:n))?e:d,typeof e===o?e.call(n,{name:"bmxh",hash:{},data:l}):e))+'号</span></br>\n                        </div>\n                        <div class="p-codepic" id="p-codepic" data-url="'+c((e=null!=(e=a.codepic||(null!=n?n.codepic:n))?e:d,typeof e===o?e.call(n,{name:"codepic",hash:{},data:l}):e))+'" >\n                                <img src="'+c((e=null!=(e=a.codepic||(null!=n?n.codepic:n))?e:d,typeof e===o?e.call(n,{name:"codepic",hash:{},data:l}):e))+'"/>\n                          </div>\n                  </div>\n\n               </div>\n\n            </div>\n    </div>\n</div>\n\n<div class="peoplelist s-tab-box fn-clear">\n'+(null!=(s=a.each.call(n,null!=n?n.people:n,{name:"each",hash:{},fn:this.program(9,l,0),inverse:this.noop,data:l}))?s:"")+"    ";return e=null!=(e=a.people||(null!=n?n.people:n))?e:d,t={name:"people",hash:{},fn:this.noop,inverse:this.program(11,l,0),data:l},s=typeof e===o?e.call(n,t):e,a.people||(s=a.blockHelperMissing.call(n,s,t)),null!=s&&(r+=s),r+'</div>\n<div class="summary s-tab-box s-html">\n'+(null!=(s=a["if"].call(n,null!=n?n.summary:n,{name:"if",hash:{},fn:this.program(13,l,0),inverse:this.program(15,l,0),data:l}))?s:"")+"</div>\n"},useData:!0});l.id=i.parse(location.search).id,l.user_id=S.SERVER.USER.id,n("#act-detail").html(s(l)).removeClass("ui-loading"),0==l.bm&&(n(".join-link").css("display","none"),console.log("aaa")),1==l.bm&&(n(".join-link").css("display","block"),console.log("bbb")),l.bmxh&&n("#p-code").show(),l.bmxh||n("#p-code").hide(),n("#p-code").click(function(){var a=n(document).scrollTop();return 0!=a&&n(document).scrollTop(0,0),S.data.renderData.isLogin?void(S.data.renderData.isLogin&&(n("#p-sign").show(),n("#p-codepic").show(),n("#p-gray").show())):(n("#p-sign").hide(),n("#p-codepic").hide(),n("#p-gray").hide(),alert("请先登录"),S.method.rememberthislink("/view/login.html"),!1)}),n("#more-people").on("click",function(){var a=n("#people-list"),i=n(this);i.html(a.hasClass("allshow")?"更多 >>":"收起 >>"),a.toggleClass("allshow")}),n("#join-link").on("click",function(){return S.data.renderData.isLogin?void 0:(S.method.rememberthislink("/view/login.html"),!1)});var e=n("#tab .tab"),t=n(".s-tab-box");e.on("click",function(){var a=n(this),i=e.index(a);t.hide().eq(i).show(),e.removeClass("tab-active").eq(i).addClass("tab-active")}),n(".s-html img").width("100%"),n(function(){}),n("#p-sign").click(function(){n("#p-sign").hide(),n("#p-codepic").hide(),n("#p-gray").hide()})})});