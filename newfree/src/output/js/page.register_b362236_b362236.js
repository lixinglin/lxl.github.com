seajs.use(["$","arale/validator/0.9.7/validator"],function(e,a){var t=e("#login-form"),d=t.find("[type=submit]"),i=new a({element:t,autoSubmit:!1,onFormValidated:function(a){if(!a){d.prop("disabled",!0);var i=t.attr("action"),r=t.attr("method");e.ajax(i,{type:r,data:t.serializeArray(),dataType:"json"}).done(function(e){d.prop("disabled",!1),e.msg&&alert(e.msg),"success"===e.status&&S.method.link()})}}});i.addItem({element:"#email",display:"邮箱",required:!0}),i.addItem({element:"#password",display:"密码",required:!0,rule:"minlength{min:6} maxlength{max:16}"}),i.addItem({element:"#password2",display:"重复密码",required:!0,rule:'confirmation{target: "#password"}'})});